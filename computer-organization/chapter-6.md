---
layout: chapter
title: "第六章 中央处理器"
description: "CPU结构、指令周期、控制单元"
---

# 第六章 中央处理器

## 6.1 CPU的基本结构

### CPU的组成部件
- **运算器**：执行算术运算和逻辑运算
- **控制器**：控制指令的执行过程
- **寄存器组**：存储临时数据和地址
- **内部总线**：连接CPU内部各部件

### 运算器的组成
- **ALU（算术逻辑单元）**：执行运算操作
- **累加器**：存储运算结果
- **通用寄存器**：存储操作数和中间结果
- **状态寄存器**：存储运算状态标志

### 控制器的组成
- **程序计数器（PC）**：存储下一条指令的地址
- **指令寄存器（IR）**：存储当前执行的指令
- **指令译码器**：分析指令的操作码和操作数
- **时序发生器**：产生控制时序信号

## 6.2 指令周期

### 指令周期的基本概念
- **取指周期**：从内存取指令到CPU
- **执行周期**：执行指令规定的操作
- **中断周期**：处理中断请求

### 取指周期
1. **PC→MAR**：将程序计数器内容送地址寄存器
2. **MAR→地址总线**：地址寄存器内容送地址总线
3. **内存→MDR**：从内存读取指令到数据寄存器
4. **MDR→IR**：数据寄存器内容送指令寄存器
5. **PC+1→PC**：程序计数器加1

### 执行周期
- **数据传送指令**：在CPU和内存间传送数据
- **算术运算指令**：在ALU中执行运算
- **逻辑运算指令**：执行逻辑运算
- **跳转指令**：修改程序计数器

## 6.3 控制单元

### 控制单元的功能
- **指令译码**：分析指令的操作码和操作数
- **时序控制**：产生指令执行的控制信号
- **微操作控制**：控制CPU内部各部件的工作

### 控制方式
- **硬连线控制**：用组合逻辑电路实现控制
- **微程序控制**：用微程序实现控制
- **组合控制**：硬连线和微程序相结合

### 微程序控制
- **微指令**：控制CPU内部各部件的基本操作
- **微程序**：由微指令组成的程序
- **控制存储器**：存储微程序的存储器
- **微程序计数器**：控制微指令的执行顺序

## 6.4 流水线技术

### 流水线的基本概念
- **流水线**：将指令执行过程分为多个阶段
- **并行处理**：多个阶段同时处理不同的指令
- **吞吐量**：单位时间内处理的指令数

### 流水线的阶段
1. **取指（IF）**：从内存取指令
2. **译码（ID）**：分析指令
3. **执行（EX）**：执行运算
4. **访存（MEM）**：访问内存
5. **写回（WB）**：写回结果

### 流水线的冲突
- **数据冲突**：指令间存在数据依赖
- **控制冲突**：跳转指令改变程序流程
- **结构冲突**：硬件资源竞争 